<div class="panel">Add Media</div>
<div class="panel">
    <uploader data-ng-model="myfile"></uploader>
</div>
<div >
    <div ng-repeat="media in api.show.media">
        <div class="panel col-sm-3">
            <div class="panel-heading" ng-click="editTitle = true">
                <div ng-hide="editTitle===true">{{media.mediaTitle}}</div>
                <input ng-show="editTitle===true" ng-model="media.mediaTitle" ng-blur="saveMedia(media.$id,media.mediaTitle, media.mediaDescription);editTitle=false;">
            </div>
            <a ng-href="#!/media/{{media.mediaLink }}"><img class="" src="{{media.mediaURL}}" width="100%"></a>
            <div class="panel-footer" ng-init="removeMedia = false;">
                <a href ng-show="!removeMedia" ng-click="removeMedia = true">Remove Media</a>
                <a href="javascript:;" ng-show="removeMedia" ng-click="api.removeMedia(media.mediaLink, media.$id)" class="btn btn-primary" role="button">Yes, remove this media.</a>
                <a href="javascript:;" ng-show="removeMedia" ng-click="removeMedia = false"class="btn btn-default" role="button">Cancel</a>
                <hr><label for="description">Description</label><textarea name="description" ng-model="media.mediaDescription" ng-blur="saveMedia(media.$id,media.mediaTitle, media.mediaDescription);editTitle=false;"></textarea>
                <p><label>ID:</label><pre>{{media.$id}}</pre></p>
                <label>URL:</label><pre><code>{{media.mediaURL}}</code></pre>
            </div>
        </div>
        <div ng-if="($index+1) % 4 === 0" class="clearfix"></div>
    </div>

</div>